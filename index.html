<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libgrape-lite: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libgrape-lite
   </div>
   <div id="projectbrief">A C++ library for parallel graph processing</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">libgrape-lite Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__home_runner_work_libgrape_lite_libgrape_lite_README"></a> </p><h1 align="center"><img src="https://alibaba.github.io/libgrape-lite/logo.png" alt="libgrape-lite" width="100" class="inline"/> <br  />
 libgrape-lite </h1>
<p align="center"></p>
<p>A C++ library for parallel graph processing </p>
<p><a href="https://github.com/alibaba/libgrape-lite/actions?workflow=C++%20CI"><img src="https://github.com/alibaba/libgrape-lite/workflows/C++%20CI/badge.svg" alt="C/C++ CI" style="pointer-events: none;" class="inline"/></a> <a href="https://codecov.io/gh/alibaba/libgrape-lite"><img src="https://codecov.io/gh/alibaba/libgrape-lite/branch/master/graph/badge.svg" alt="codecov" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/alibaba/GraphScope"><img src="https://img.shields.io/badge/Enables-Graphscope-blue" alt="GraphScope" class="inline"/></a></p>
<p><b>libgrape-lite</b> is a C++ library from Alibaba for parallel graph processing. It differs from prior systems in its ability to parallelize sequential graph algorithms as a whole by following the <em>PIE</em> programming model from <a href="https://dl.acm.org/doi/10.1145/3035918.3035942">GRAPE</a>. Sequential algorithms can be easily <a href="examples/analytical_apps/sssp/sssp_auto.h">"plugged into"</a> libgrape-lite with only minor changes and get parallelized to handle large graphs efficiently. In addition to the ease of programming, libgrape-lite is designed to be highly efficient and <a href="examples/gnn_sampler">flexible</a>, to cope the scale, variety and complexity from real-life graph applications.</p>
<h2>Building <b>libgrape-lite</b></h2>
<h3>Dependencies</h3>
<p><b>libgrape-lite</b> is developed and tested on CentOS 7. It should also work on other unix-like distributions. Building libgrape-lite requires the following softwares installed as dependencies.</p>
<ul>
<li><a href="https://cmake.org/">CMake</a> (&gt;=2.8)</li>
<li>A modern C++ compiler compliant with C++-11 standard. (g++ &gt;= 4.8.1 or clang++ &gt;= 3.3)</li>
<li><a href="https://www.mpich.org/">MPICH</a> (&gt;= 2.1.4) or <a href="https://www.open-mpi.org/">OpenMPI</a> (&gt;= 3.0.0)</li>
<li><a href="https://github.com/google/glog">glog</a> (&gt;= 0.3.4)</li>
</ul>
<p>Here are the dependencies for optional features:</p>
<ul>
<li><a href="http://jemalloc.net/">jemalloc</a> (&gt;= 5.0.0) for better memory allocation;</li>
<li><a href="https://www.doxygen.nl/index.html">Doxygen</a> (&gt;= 1.8) for generating documentation;</li>
<li>Linux <a href="http://www.kernel.org/doc/Documentation/vm/hugetlbpage.txt">HUGE_PAGES</a> support, for better performance.</li>
<li><a href="https://developer.nvidia.com/zh-cn/cuda-toolkit">CUDA</a> (&gt;= 10.0) for GPU-based graph processing.</li>
<li><a href="https://developer.nvidia.com/nccl">NCCL</a> (&gt;= 2.7) for multi-GPU communication.</li>
</ul>
<p>Extra dependencies are required by examples:</p>
<ul>
<li><a href="https://github.com/gflags/gflags">gflags</a> (&gt;= 2.2.0);</li>
<li><a href="https://github.com/apache/kafka">Apache Kafka</a> (&gt;= 2.3.0);</li>
<li><a href="https://github.com/edenhill/librdkafka">librdkafka</a>(&gt;= 0.11.3);</li>
</ul>
<h3>Building libgrape-lite and examples</h3>
<p>Once the required dependencies have been installed, go to the root directory of libgrape-lite and do a out-of-source build using CMake.</p>
<div class="fragment"><div class="line">mkdir build &amp;&amp; cd build</div>
<div class="line">cmake ..</div>
<div class="line">make -j</div>
</div><!-- fragment --><p>The building targets include a shared/static library, and two sets of examples: <a href="./examples/analytical_apps">analytical_apps</a> and a <a href="./examples/gnn_sampler">gnn_sampler</a>.</p>
<p>Alternatively, you can build a particular target with command:</p>
<div class="fragment"><div class="line">make libgrape-lite # or</div>
<div class="line">make analytical_apps # or</div>
<div class="line">make gnn_sampler</div>
</div><!-- fragment --><h3>Building libgrape-lite with GPU support</h3>
<p>libgrape-lite supports deploying graph algorithms to GPUs. When CUDA is detected on the machine and NCCL &gt;= 2.7, GPU support will be enabled automatically.</p>
<h2>Running libgrape-lite applications</h2>
<h3>Graph format</h3>
<p>The input of libgrape-lite is formatted following the <a href="http://graphalytics.org">LDBC Graph Analytics</a> benchmark, with two files for each graph, a <code>.v</code> file for vertices with 1 or 2 columns, which are a vertex_id and optionally followed by the data assigned to the vertex; and a <code>.e</code> file for edges with 2 or 3 columns, representing source, destination and optionally the data on the edge, correspondingly. See sample files <code>p2p-31.v</code> and <code>p2p-31.e</code> under the <a href="dataset/">dataset</a> directory.</p>
<h3>Example applications</h3>
<p><b>libgrape-lite</b> provides six algorithms from the LDBC benchmark as examples. The deterministic algorithms are, single-source shortest path(SSSP), connected component(WCC), PageRank, local clustering coefficient(LCC), community detection of label propagation(CDLP), and breadth first search(BFS). <br  />
</p>
<p>To run a specific analytical application, users may use command like this:</p>
<div class="fragment"><div class="line"># run single-source shortest path with 4 workers in local.</div>
<div class="line">mpirun -n 4 ./run_app --vfile ../dataset/p2p-31.v --efile ../dataset/p2p-31.e --application sssp --sssp_source 6 --out_prefix ./output_sssp --directed</div>
<div class="line"> </div>
<div class="line"># or run connected component with 4 workers on a cluster.</div>
<div class="line"># HOSTFILE provides a list of hosts where MPI processes are launched. </div>
<div class="line">mpirun -n 4 -hostfile HOSTFILE ./run_app --application=wcc --vfile ../dataset/p2p-31.v --efile ../dataset/p2p-31.e --out_prefix ./output_wcc</div>
<div class="line"> </div>
<div class="line"># or run breadth-first search with 8 workers in a multi-GPU server.</div>
<div class="line">mpirun -n 8 ./run_cuda_app --application=bfs --lb=cm --bfs_source 6 --vfile ../dataset/p2p-31.v --efile ../dataset/p2p-31.e --out_prefix ./output_wcc</div>
<div class="line"> </div>
<div class="line"># see more flags info.</div>
<div class="line">./run_app --help</div>
</div><!-- fragment --><h3>LDBC benchmarking</h3>
<p>The analytical applications support the LDBC Analytical Benchmark suite with the provided <code>ldbc_driver</code>. Please refer to <a href="./ldbc_driver">ldbc_driver</a> for more details. The benchmark results for libgrape-lite and other state-of-the-art systems could be found here.</p>
<h3>GNN sampler</h3>
<p>In addition to offline graph analytics, libgrape-lite could also be utilized to handle more complex graph tasks. A sampler for GNN training/inference on dynamic graphs (taking graph changes and queries, and producing results via <a href="https://kafka.apache.org/">Kafka</a>) is included as an example. Please refer to <a href="./examples/gnn_sampler">examples/gnn_sampler</a> for more details.</p>
<h3>GPU-based graph analytics</h3>
<p>libgrape-lite also supports graph analytics on multi-GPU servers. Unlike CPUs, GPUs have more-but-weaker cores, making load balancing the key to high-performance sparse graph processing on GPUs. libgrape-lite provides multiple load balancing strategies on GPUs (<code>wm</code>, <code>cm</code>, <code>cta</code>, and <code>strict</code>). libgrape-lite adopts NCCL to handle communication between multiple GPUs. With GPU acceleration, libgrape-lite can obtain similar performance for a 4-node CPU cluster with a single GPU. The detailed benchmark results of libgrape-lite on GPUs could also be found here.</p>
<h2>Documentation</h2>
<p>Documentation is generated using Doxygen. Users can build doxygen documentation in the build directory using:</p>
<div class="fragment"><div class="line">cd build</div>
<div class="line">make doc</div>
<div class="line"># open docs/index.html</div>
</div><!-- fragment --><p>The latest version of online documentation can be found at <a href="https://alibaba.github.io/libgrape-lite">https://alibaba.github.io/libgrape-lite</a></p>
<h2>License</h2>
<p><b>libgrape-lite</b> is distributed under <a href="./LICENSE">Apache License 2.0</a>. Please note that third-party libraries may not have the same license as libgrape-lite.</p>
<h2>Acknowledgements</h2>
<ul>
<li><a href="https://github.com/skarupke/flat_hash_map">flat_hash_map</a>, an efficient hashmap implementation;</li>
<li><a href="https://github.com/atlarge-research/granula">granula</a>, a tool for gathering performance information for LDBC Benchmark;</li>
<li><a href="http://prng.di.unimi.it/">xoroshiro</a>, a pseudo-random number generator;</li>
<li><a href="https://github.com/progschj/threadpool">threadpool</a>, a concise C++11 Thread Pool implementation.</li>
</ul>
<h2>Publications</h2>
<ul>
<li>Wenfei Fan, Jingbo Xu, Wenyuan Yu, Jingren Zhou, Xiaojian Luo, Ping Lu, Qiang Yin, Yang Cao, and Ruiqi Xu. Parallelizing Sequential Graph Computations. ACM Transactions on Database Systems (TODS) 43(4): 18:1-18:39.</li>
<li>Wenfei Fan, Jingbo Xu, Yinghui Wu, Wenyuan Yu, Jiaxin Jiang. GRAPE: Parallelizing Sequential Graph Computations. The 43rd International Conference on Very Large Data Bases (VLDB), demo, 2017 (<b>the Best Demo Award</b>).</li>
<li>Wenfei Fan, Jingbo Xu, Yinghui Wu, Wenyuan Yu, Jiaxin Jiang, Zeyu Zheng, Bohan Zhang, Yang Cao, and Chao Tian. Parallelizing Sequential Graph Computations, ACM SIG Conference on Management of Data (SIGMOD), 2017 (<b>the Best Paper Award</b>).</li>
</ul>
<p>Please cite the following paper in your publications if <b>GRAPE</b> or this repo helps your research.</p>
<div class="fragment"><div class="line">@inproceedings{10.1145/3035918.3035942,</div>
<div class="line">    author = {Fan, Wenfei and Xu, Jingbo and Wu, Yinghui and Yu, Wenyuan and Jiang, Jiaxin and Zheng, Zeyu and Zhang, Bohan and Cao, Yang and Tian, Chao},</div>
<div class="line">    title = {Parallelizing Sequential Graph Computations},</div>
<div class="line">    year = {2017},</div>
<div class="line">    isbn = {9781450341974},</div>
<div class="line">    publisher = {Association for Computing Machinery},</div>
<div class="line">    url = {https://doi.org/10.1145/3035918.3035942},</div>
<div class="line">    doi = {10.1145/3035918.3035942},</div>
<div class="line">    booktitle = {Proceedings of the 2017 ACM International Conference on Management of Data},</div>
<div class="line">    pages = {495â€“510},</div>
<div class="line">    numpages = {16},</div>
<div class="line">    location = {Chicago, Illinois, USA},</div>
<div class="line">    series = {SIGMOD &#39;17}</div>
<div class="line">}</div>
</div><!-- fragment --><h2>Getting involved</h2>
<ul>
<li>Read contribution guide.</li>
<li>Join in the <a href="http://slack.graphscope.io/">Slack channel</a></li>
<li>Please report bugs by submitting a GitHub issue.</li>
<li>Submit contributions using pull requests.</li>
</ul>
<p>Thank you in advance for your contributions! </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
